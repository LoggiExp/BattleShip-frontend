<div class="ready-container" *ngIf="!isReady && !isGameOver()">
  <h3><span class="player-name">{{currentPlayer.name}}</span> it's your turn!</h3>
  <button class="is-ready-btn" (click)="toggleIsReady()">Ready!</button>
</div>

<div class="general-container" *ngIf="isReady && !isGameOver()">
  <h2>Battleship Game</h2>
  <div class="player-info">
    <h4>Player: <span class="player-name">{{currentPlayer.name}}</span></h4>
  </div>

  <div id="boards-container">
    <div class="userBoard" #userBoard>
      <!-- TODO: This board has to have the player's id -->
      <div class="userRow" #userRows *ngFor="let row of playerBoard; let x = index" id="{{ x + 1 }}">
        <div class="userCol" #userCols *ngFor="let box of row; let y = index" id="{{ y + 1 }}">
          <div class="userCell" #userCell id="{{ cellState.at(x)?.at(y) }}"></div>
        </div>
      </div>
    </div>
    <!-- [ngClass]="{
              'water': getCellState(x+1, y+1) === 0,
              'ship': getCellState(x+1, y+1) === 1,
              'water-shooted': getCellState(x+1, y+1) === 2,
              'ship-shooted': getCellState(x+1, y+1) === 3
            }" -->

    <div class="shotBoard" #shotBoard>
      <!-- TODO: This board has to have the player's id -->
      <div class="shotRow" #shotRows *ngFor="let row of playerBoard; let x = index" id="{{ x + 1 }}">
        <div class="shotCol" #shotCols *ngFor="let box of row; let y = index" id="{{ y + 1 }}">
          <div class="shotCell" #shotCell (click)="saveShot(x+1, y+1)"
          ></div>
        </div>
      </div>
    </div>
  </div>

  <div class="next-player-container">
    <button 
      [disabled]="shot.length === 0 ? 'disabled' : null" 
      class="next-player-btn" 
      (click)=" getNextPlayer()"
    >Next player</button>
  </div>

  <div class="game-info">
    <div class="leaderboard">
      <h4>Leaderboard</h4>
      <p class="leaderboard-content" *ngFor="let player of sortLeaderboard(); let i = index">
        <span class="position">{{ i + 1 }}</span> 
        <span class="name">{{ player.name }}</span>
        <span class="points">{{ player.points }}</span>
      </p>
    </div>

    <div class="logs-container">
      <div *ngFor="let log of logs; let i = index;">
        <p id="{{i}}" class="new-log">
          <!-- [ngClass]="{'new-log': i === 0, 'old-log': i !== 0}" -->
          <span>></span>{{ log }}
        </p>
      </div>
    </div>
  </div>
</div>


<div class="final-leaderboard-container" *ngIf="isGameOver()">
  <div class="final-leaderboard">
    <h4>Leaderboard</h4>
    <p class="final-leaderboard-content" *ngFor="let player of sortFinalLeaderboard(); let i = index">
      <span class="position">{{ i + 1 }}</span>
      <span class="name">{{ player.name }}</span>
      <span class="team">Team {{ player.team + 1 }}</span>
      <span class="points">{{ player.points }}</span>
    </p>
  </div>

  <button class="restart-btn" (click)="restartGame()">Play again</button>
</div>
